## 事务
要么都成功，要么都失败（转账）     
将一组sql放在一批中执行       
事务原则： ACID原则  **原子性，一致性，隔离性，持久性** （脏读，幻读....）       
原子性：一起成功或失败，不能只发生一个     
一致性：操作前与操作后状态一致     
持久性：事务结束后的数据不会随着外界的原因导致数据丢失     
隔离性：多个用户同时操作，排除其他事务对本次事务的影响     
脏读：一个事务读取了另一个事务未提交的数据       
幻读：一个事务内读取了别的事务插入的数据，导致前后不一致  

# 封锁
## 封锁粒度
MySQL 中提供了两种封锁粒度：行级锁以及表级锁。

应该尽量只锁定需要修改的那部分数据，而不是所有的资源。锁定的数据量越少，发生锁争用的可能就越小，系统的并发程度就越高。

但是加锁需要消耗资源，锁的各种操作（包括获取锁、释放锁、以及检查锁状态）都会增加系统开销。因此封锁粒度越小，系统开销就越大。

在选择封锁粒度时，需要在锁开销和并发程度之间做一个权衡。

## 读写锁
* 互斥锁（Exclusive），简写为 X 锁，又称写锁。
* 共享锁（Shared），简写为 S 锁，又称读锁。

有以下两个规定：
* 一个事务对数据对象 A 加了 X 锁，就可以对 A 进行读取和更新。加锁期间其它事务不能对 A 加任何锁。
* 一个事务对数据对象 A 加了 S 锁，可以对 A 进行读取操作，但是不能进行更新操作。加锁期间其它事务能对 A 加 S 锁，但是不能加 X 锁。

## 数据库的三大范式
1、数据库表的每一列都是不可分割的原子数据项。（原子性）        
2、前提：满足第一范式 确保数据库表中的每一列都和主键相关，
而不能只与主键的一部分相关（一张表只做一件事情）。       
3、前提：满足第一和第二范式 表中的每一列都与主键直接相关，而不能间接相关。

