## Linux常用指令

修改权限：chmod

查看端口： lsof -i:端口号 ，netstat -npl 查看端口    

nc ：设置路由器的相关参数。

### 搜索指令
1. find
2. locate
   * 这里和 find 命令是有区别的，find是全盘检索，而locate 是在文件资料库中进行搜索。所以locate命令的执行要比find命令执行速度快很多。
3. which
   * 搜索命令所在的目录及别名信息
4. grep ： 在文件中搜寻字符串匹配的行并输出
    * 语法：grep -iv 【指定字符串】【文件】   -i 不区分大小写  -v 排除指定字符串

    * 范例：查找 /root/install.log 文件中包含 mysql 字符串的行，并输出。 指令：grep mysql /root/install.log
5. ag ：比grep更快的搜索

### top指令详解

![img.png](top.png)

* PID — 进程id
* USER — 进程所有者
* PR — 进程优先级
* NI — nice值。数值越小、优先级越高。负值表示高优先级，正值表示低优先级
* VIRT — 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES
* RES — 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA
* SHR — 共享内存大小，单位kb
* S —进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程
* %CPU — 上次更新到现在的CPU时间占用百分比
* %MEM — 进程使用的物理内存百分比
* TIME+ — 进程使用的CPU时间总计，单位1/100秒
* COMMAND — 进程名称（命令名/命令行）


### 查看指定端口、某个服务占用情况

一，指定端口，例8080
1. netstat -tunlp |grep  8080
2. lsof  -i:8080

二、查看服务器所有端口
1. netstat -ntlp

三、查看某进程端口占用，例Tomcat
1. ps -ef |grep tomcat


## 孤儿进程
一个父进程退出，而它的一个或多个子进程还在运行，那么这些子进程将成为孤儿进程。

孤儿进程将被 init 进程（进程号为 1）所收养，并由 init 进程对它们完成状态收集工作。

由于孤儿进程会被 init 进程收养，所以孤儿进程不会对系统造成危害。

## 僵尸进程
一个子进程的进程描述符在子进程退出时不会释放，只有当父进程通过 wait() 或 waitpid() 获取了子进程信息后才会释放。如果子进程退出，而父进程并没有调用 wait() 或 waitpid()，那么子进程的进程描述符仍然保存在系统中，这种进程称之为僵尸进程。

僵尸进程通过 ps 命令显示出来的状态为 Z（zombie）。

系统所能使用的进程号是有限的，如果产生大量僵尸进程，将因为没有可用的进程号而导致系统不能产生新的进程。

要消灭系统中大量的僵尸进程，只需要将其父进程杀死，此时僵尸进程就会变成孤儿进程，从而被 init 进程所收养，这样 init 进程就会释放所有的僵尸进程所占有的资源，从而结束僵尸进程。